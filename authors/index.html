<!DOCTYPE HTML>
<html>
	<head>
		<title>Code Koala by BIBI</title>
		<meta charset="utf-8" />
		<meta name="viewport" content="width=device-width, initial-scale=1, user-scalable=no" />
		<link rel="stylesheet" href="/assets/css/main.css" />
		<link rel="shortcut icon" type="image/png" href="/images/koala.png"/>
	</head>
	<body class="single is-preload">

		<!-- Wrapper -->
			<div id="wrapper">

				<!-- Header -->
					<header id="header">
					</header>

				<!-- Main -->
					<div id="main">

						<!-- Post -->
							<article class="post">
								<header>
									<div class="title">
										<h2>Authors</h2>
										<p>Find our contributors</p>
									</div>
								</header>

								<section id="tags">
								</section>

								<section id="articles">
								</section>

							</article>

					</div>

					<h1>Handlebars Partials Example!</h1>
					
					<div id="list">
					</div>
					
					<!-- <script type="text/javascript" src="script/jquery.js"></script> -->
					<!-- <script type="text/javascript" src="script/handlebars-1.0.0.beta.6.js"></script> -->
					
					<script id="people-template" type="text/x-handlebars-template">
						{{#each people}}
							{{> person}}
						{{/each}}
					</script>
					
					<script id="person-partial" type="text/x-handlebars-template">
						<div class="person">
							<h2>{{first_name}} {{last_name}}</h2>
							<div class="phone">{{phone}}</div>
							<div class="email"><a href="mailto:{{email}}">{{email}}</a></div>
							<div class="since">User since {{member_since}}</div>
						</div>
					</script>


					<!-- Footer -->
					<section id="footer">
					</section>
			</div>

		<!-- Scripts -->
			<script src="/assets/js/jquery.min.js"></script>
			<script src="/assets/js/browser.min.js"></script>
			<script src="/assets/js/breakpoints.min.js"></script>
			<script src="/assets/js/util.js"></script>
			<script src="/assets/js/main.js"></script>
			<script src="/assets/js/handlebars.min-v4.2.1.js"></script>
			<script src="/content.js"></script>

			<script>
				$(document).ready(function () {
					var tags = $("#tags-template").html(); 
					var tagsTemplate = Handlebars.compile(tags);
					var nestedTags = [];
					while(content.tags.length) nestedTags.push(content.tags.splice(0,4));
					$('#tags').append(tagsTemplate(nestedTags));


					// $.get('/authors/header.hbs', function (data) {
					// 	console.log(data);
					// 	var template = Handlebars.compile(data);
					// 	$(target).html(template(jsonData));
					// }, 'html')


					$.get('/template/header.hbs', function (data) {
						var headerTemplate = Handlebars.compile(data);
						$("#header").html(headerTemplate());
					}, 'html')

					$.get('/template/footer.hbs', function (data) {
						var footerTemplate = Handlebars.compile(data);
						$("#footer").html(footerTemplate());
					}, 'html')


					var template = Handlebars.compile($("#people-template").html());
					Handlebars.registerPartial("person", $("#person-partial").html());
					var data = {
						people: [
							{ first_name: "Alan", last_name: "Johnson", phone: "1234567890", email: "alan@test.com", member_since: "Mar 25, 2011" },
							{ first_name: "Allison", last_name: "House", phone: "0987654321", email: "allison@test.com", member_since: "Jan 13, 2011" },
							{ first_name: "Nick", last_name: "Pettit", phone: "9836592272", email: "nick@test.com", member_since: "Apr 9, 2009" },
							{ first_name: "Jim", last_name: "Hoskins", phone: "7284927150", email: "jim@test.com", member_since: "May 21, 2010" },
							{ first_name: "Ryan", last_name: "Carson", phone: "8263729224", email: "ryan@test.com", member_since: "Nov 1, 2008" }
						]
					};
					$('#list').html(template(data));



					
				});
			</script>

			<script id="tags-template" type="text/x-handlebars-template">
				{{#each this}}
				<ul class="actions fit">
					{{#each this}}
					<li><a href="#" class="button large fit icon solid {{icon}}">{{id}}</a></li>
					{{/each}} 
				</ul>
				{{/each}}
			</script>

	</body>
</html>